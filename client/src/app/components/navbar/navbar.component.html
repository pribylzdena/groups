<header class="navbar-container">
  <div class="container">
    <div class="navbar-content">
      <div class="brand-section">
        <div class="logo-container">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z" fill="currentColor"/>
            <path d="M15 8H9C8.45 8 8 8.45 8 9V15C8 15.55 8.45 16 9 16H15C15.55 16 16 15.55 16 15V9C16 8.45 15.55 8 15 8ZM14 14H10V10H14V14Z" fill="#FFFFFF"/>
          </svg>
        </div>
        <h2 class="brand-title" [routerLink]="['/group-manage']" [routerLinkActive]="['active']">Groups</h2>
      </div>

      <ul class="nav col-12 col-lg-auto me-lg-auto justify-content-center mb-md-0 m-lg-5">
        <li>
          <a [routerLink]="['/group-manage']" class="nav-item back-arrow">
            <i class="bi bi-arrow-left"></i>
          </a>
        </li>
        <li>
          <a [routerLink]="['/groups', group.id, 'todo']" [routerLinkActive]="['active']" class="nav-item">
            <span>Todo</span>
          </a>
        </li>
        <li>
          <a [routerLink]="['/groups', group.id, 'schedule']" [routerLinkActive]="['active']" class="nav-item">
            <span>Schedule</span>
          </a>
        </li>
        <li>
          <a [routerLink]="['/groups', group.id, 'notes']" [routerLinkActive]="['active']" class="nav-item">
            <span>Notes</span>
          </a>
        </li>
      </ul>

      <div class="mx-auto group-context justify-content-between">
        GROUP: {{ group.name }}
      </div>

      <button [routerLink]="['/groups', group.id, 'edit']" class="settings-button" title="NastavenÃ­">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>

      <div class="actions-section">
        <button [routerLink]="['/notifications']" [routerLinkActive]="['active']" class="notification-btn" [class.has-notifications]="hasNotifications">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#FFFFFF" class="bi bi-inbox" viewBox="0 0 16 16">
            <path d="M4.98 4a.5.5 0 0 0-.39.188L1.54 8H6a.5.5 0 0 1 .5.5 1.5 1.5 0 1 0 3 0A.5.5 0 0 1 10 8h4.46l-3.05-3.812A.5.5 0 0 0 11.02 4zm9.954 5H10.45a2.5 2.5 0 0 1-4.9 0H1.066l.32 2.562a.5.5 0 0 0 .497.438h12.234a.5.5 0 0 0 .496-.438zM3.809 3.563A1.5 1.5 0 0 1 4.981 3h6.038a1.5 1.5 0 0 1 1.172.563l3.7 4.625a.5.5 0 0 1 .105.374l-.39 3.124A1.5 1.5 0 0 1 14.117 13H1.883a1.5 1.5 0 0 1-1.489-1.314l-.39-3.124a.5.5 0 0 1 .106-.374z"/>
          </svg>
          <span class="notification-badge" *ngIf="hasNotifications">{{ notificationCount }}</span>
        </button>

        <div class="profile-dropdown" (click)="toggleDropdown()" [class.open]="isDropdownOpen">
          <div class="profile-trigger">
            <img [src]="logoUrl" alt="Profile" class="profile-image">
            <span class="profile-status" [class.online]="isUserOnline"></span>
          </div>
          <div class="dropdown-menu" *ngIf="isDropdownOpen">
            <div class="dropdown-header">
              <strong>{{ user.name   }}</strong>
              <p class="user-email">{{ user.email }}</p>
            </div>
            <div class="dropdown-divider"></div>
            <a [routerLink]="['/profile']" class="dropdown-item">
              <i class="bi bi-person-fill"></i> My Profile
            </a>
            <div class="dropdown-divider"></div>
            <a (click)="logout()" class="dropdown-item logout">
              <i class="bi bi-box-arrow-right"></i> Sign Out
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
